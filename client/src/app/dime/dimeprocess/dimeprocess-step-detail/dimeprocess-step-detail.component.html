<div class="box box-primary">
	<div class="box-header with-border">
		<h3 class="box-title">Edit Process Step</h3>
	</div>
	<div class="box-body">
		<form (ngSubmit)="mainService.stepUpdate()" #f="ngForm" class="form-horizontal" *ngIf="mainService.curStep">
			<fieldset>
				<div class="form-group">
					<label for="stepType" class="col-xs-1 control-label">Type:</label>
					<div class="col-xs-11">
						<select name="stepType" id="stepType" id="" class="form-control" [(ngModel)]="mainService.curStep.type">
							<option *ngFor="let type of mainService.stepTypes" [value]="type.value">{{type.name}}</option>
						</select>
					</div>
				</div>
				<div class="form-group" *ngIf="mainService.curStep.type == 'srcprocedure'">
					<label for="stepsrcprocedure" class="col-xs-1 control-label">Definition:</label>
					<div class="col-xs-11">
						<textarea name="stepsrcprocedure"
									id="stepsrcprocedure"
									rows="10"
									class="form-control"
									[(ngModel)]="mainService.curStep.details"></textarea>
					</div>
				</div>
				<div class="form-group" *ngIf="mainService.curStep.type == 'pulldata'">
					<label for="steppulldata" class="col-xs-1 control-label">Definition:</label>
					<div class="col-xs-11">
						Pull data definition is here.
					</div>
				</div>
				<div class="form-group">
					<div class="col-xs-11 col-xs-offset-1">
						<button class="btn btn-primary btn-xs" type="submit"><i class="fa fa-floppy-o fa-fw"></i> Save Changes</button>
					</div>
				</div>
			</fieldset>
		</form>
	</div>
</div>
<div class="row">
	<div class="col-xs-6">
		<pre class="col-xs-6">{{ mainService.curStep | json }}</pre>
	</div>
	<div class="col-xs-6">
		<pre class="col-xs-6">{{ mainService.stepTypes | json }}</pre>
	</div>
</div>
